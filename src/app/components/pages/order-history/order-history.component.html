<app-header></app-header>
<div class="order-history">
  <div class="flex flex-wrap gap-3">
    <div class="flex align-items-center">

      <p-radioButton
        name="status"
        [value]="orderStatus.New"
        [(ngModel)]="statusFilter"
        inputId="new"
        (onClick)="radioClick()"
      ></p-radioButton>

      <label>{{'static.order-status.new' | translate}}</label>
    </div>
    <div class="flex align-items-center">

      <p-radioButton
        name="status"
        [value]="orderStatus.Completed"
        [(ngModel)]="statusFilter"
        inputId="completed"
        (onClick)="radioClick()"
      ></p-radioButton>

      <label>{{'static.order-status.completed' | translate}}</label>
    </div>
    <div class="flex align-items-center">

      <p-radioButton
        name="status"
        [value]="orderStatus.Cancelled"
        [(ngModel)]="statusFilter"
        inputId="canceled"
        (onClick)="radioClick()"
      ></p-radioButton>

      <label>{{'static.order-status.cancelled' | translate}}</label>
    </div>
  </div>
<!--  TODO: TableModule  -->
  <div class="order-history-container">


    <p-table class="order-container" [value]="filteredOrders">
      <ng-template pTemplate="header">
        <tr>
          <th>{{'pages.history.image' | translate}}</th>
          <th>{{'pages.history.product-name' | translate}}</th>
          <th>{{'pages.history.price' | translate}}</th>
          <th>{{'pages.history.amount' | translate}}</th>
          <th>{{'pages.history.size' | translate}}</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-order>
        <tr *ngFor="let item of order.cartItems">
          <td><img src="{{item.product.img}}" alt="{{item.product.name}}" width="100" class="shadow-4" /></td>
          <td>{{item.product.name}}</td>
          <td>{{item.product.price | currency}}</td>
          <td>{{item.count}}</td>
          <td>{{item.product.size}}</td>
        </tr>
        <tr>
          <td colspan="2">{{'pages.history.shipping' | translate}}: {{order.shipping | currency}}</td>
          <td colspan="2">{{'pages.history.total' | translate}}: {{(order.shipping + order.totalPrice).toFixed(2) | currency}}</td>
          <td>{{'static.order-status.' + order.status | translate}}</td>
        </tr>
        <tr>
          <td colspan="5">
            <p-button
              [label]="'pages.order.buttons.go-to-order' | translate"
              styleClass="p-button-text p-button-lg"
              (click)="goToOrder(order)"
            ></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>

    <!--    <div class="order-container" *ngFor="let order of filteredOrders">-->
<!--      <div class="order-status">{{ 'static.order-status.' + order.status | translate}}</div>-->
<!--      <div class="order-item" *ngFor="let item of order.cartItems">-->
<!--        <div class="order-item__name item-info">{{item.product.name}}</div>-->
<!--        <div class="order-item__price item-info">{{item.product.price}}</div>-->
<!--        <div class="order-item__count item-info">{{item.count}}</div>-->
<!--      </div>-->
<!--      <div class="order-item">-->
<!--        <div class="item-info">{{order.shipping}}</div>-->
<!--        <div class="item-info">{{order.totalPrice}}</div>-->
<!--        <div class="item-info">{{(order.shipping + order.totalPrice).toFixed(2)}}</div>-->
<!--      </div>-->
<!--      <p-button-->
<!--        [label]="'pages.order.buttons.go-to-order' | translate"-->
<!--        styleClass="p-button-text p-button-lg"-->
<!--        (click)="goToOrder(order)"-->
<!--      ></p-button>-->
<!--    </div>-->

<!--    <div class="order-container" *ngFor="let order of filteredOrders">-->
<!--      <p-table [value]="order.cartItems">-->

<!--        <ng-template pTemplate="caption">-->
<!--          <div class="flex align-items-center justify-content-between">-->
<!--            Status:-->
<!--            <div>{{order.status}}</div>-->
<!--          </div>-->
<!--        </ng-template>-->

<!--        <ng-template pTemplate="header">-->
<!--          <tr>-->
<!--            <th>Name</th>-->
<!--            <th>Image</th>-->
<!--            <th>Price</th>-->
<!--            <th>Amount</th>-->
<!--            <th>Size</th>-->
<!--          </tr>-->
<!--        </ng-template>-->

<!--        <ng-template pTemplate="body" let-item>-->
<!--          <tr>-->
<!--            <td>{{item.product.name}}</td>-->
<!--            <td><img src="{{item.product.img}}" alt="{{item.product.name}}" width="100" class="shadow-4" /></td>-->
<!--            <td>{{item.product.price | currency:'USD'}}</td>-->
<!--            <td>{{item.count}}</td>-->
<!--            <td>{{item.product.size}}</td>-->
<!--          </tr>-->
<!--        </ng-template>-->
<!--      </p-table>-->
<!--    </div>-->

  </div>
</div>
